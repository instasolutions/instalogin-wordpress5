var Instalogin=function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/js/",n(n.s=8)}([function(t,e,n){"use strict";(function(t){var o=n(2),r=n(3),i=setTimeout;function a(t){return Boolean(t&&void 0!==t.length)}function s(){}function l(t){if(!(this instanceof l))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],g(t,this)}function c(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,l._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var o;try{o=n(t._value)}catch(t){return void h(e.promise,t)}u(e.promise,o)}else(1===t._state?u:h)(e.promise,t._value)}))):t._deferreds.push(e)}function u(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof l)return t._state=3,t._value=e,void f(t);if("function"==typeof n)return void g((o=n,r=e,function(){o.apply(r,arguments)}),t)}t._state=1,t._value=e,f(t)}catch(e){h(t,e)}var o,r}function h(t,e){t._state=2,t._value=e,f(t)}function f(t){2===t._state&&0===t._deferreds.length&&l._immediateFn((function(){t._handled||l._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)c(t,t._deferreds[e]);t._deferreds=null}function d(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function g(t,e){var n=!1;try{t((function(t){n||(n=!0,u(e,t))}),(function(t){n||(n=!0,h(e,t))}))}catch(t){if(n)return;n=!0,h(e,t)}}l.prototype.catch=function(t){return this.then(null,t)},l.prototype.then=function(t,e){var n=new this.constructor(s);return c(this,new d(t,e,n)),n},l.prototype.finally=o.a,l.all=function(t){return new l((function(e,n){if(!a(t))return n(new TypeError("Promise.all accepts an array"));var o=Array.prototype.slice.call(t);if(0===o.length)return e([]);var r=o.length;function i(t,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,(function(e){i(t,e)}),n)}o[t]=a,0==--r&&e(o)}catch(t){n(t)}}for(var s=0;s<o.length;s++)i(s,o[s])}))},l.allSettled=r.a,l.resolve=function(t){return t&&"object"==typeof t&&t.constructor===l?t:new l((function(e){e(t)}))},l.reject=function(t){return new l((function(e,n){n(t)}))},l.race=function(t){return new l((function(e,n){if(!a(t))return n(new TypeError("Promise.race accepts an array"));for(var o=0,r=t.length;o<r;o++)l.resolve(t[o]).then(e,n)}))},l._immediateFn="function"==typeof t&&function(e){t(e)}||function(t){i(t,0)},l._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},e.a=l}).call(this,n(4).setImmediate)},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";e.a=function(t){var e=this.constructor;return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){return e.reject(n)}))}))}},function(t,e,n){"use strict";e.a=function(t){return new this((function(e,n){if(!t||void 0===t.length)return n(new TypeError(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var o=Array.prototype.slice.call(t);if(0===o.length)return e([]);var r=o.length;function i(t,n){if(n&&("object"==typeof n||"function"==typeof n)){var a=n.then;if("function"==typeof a)return void a.call(n,(function(e){i(t,e)}),(function(n){o[t]={status:"rejected",reason:n},0==--r&&e(o)}))}o[t]={status:"fulfilled",value:n},0==--r&&e(o)}for(var a=0;a<o.length;a++)i(a,o[a])}))}},function(t,e,n){(function(t){var o=void 0!==t&&t||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function i(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new i(r.call(setTimeout,o,arguments),clearTimeout)},e.setInterval=function(){return new i(r.call(setInterval,o,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(o,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(5),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(1))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var o,r,i,a,s,l=1,c={},u=!1,h=t.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(t);f=f&&f.setTimeout?f:t,"[object process]"==={}.toString.call(t.process)?o=function(t){e.nextTick((function(){g(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((i=new MessageChannel).port1.onmessage=function(t){g(t.data)},o=function(t){i.port2.postMessage(t)}):h&&"onreadystatechange"in h.createElement("script")?(r=h.documentElement,o=function(t){var e=h.createElement("script");e.onreadystatechange=function(){g(t),e.onreadystatechange=null,r.removeChild(e),e=null},r.appendChild(e)}):o=function(t){setTimeout(g,0,t)}:(a="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(a)&&g(+e.data.slice(a.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),o=function(e){t.postMessage(a+e,"*")}),f.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var r={callback:t,args:e};return c[l]=r,o(l),l++},f.clearImmediate=d}function d(t){delete c[t]}function g(t){if(u)setTimeout(g,0,t);else{var e=c[t];if(e){u=!0;try{!function(t){var e=t.callback,o=t.args;switch(o.length){case 0:e();break;case 1:e(o[0]);break;case 2:e(o[0],o[1]);break;case 3:e(o[0],o[1],o[2]);break;default:e.apply(n,o)}}(e)}finally{d(t),u=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(1),n(6))},function(t,e){var n,o,r=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(t){o=a}}();var l,c=[],u=!1,h=-1;function f(){u&&l&&(u=!1,l.length?c=l.concat(c):h=-1,c.length&&d())}function d(){if(!u){var t=s(f);u=!0;for(var e=c.length;e;){for(l=c,c=[];++h<e;)l&&l[h].run();h=-1,e=c.length}l=null,u=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(t)}}function g(t,e){this.fun=t,this.array=e}function p(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new g(t,e)),1!==c.length||u||s(d)},g.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e,n){(function(o){var r,i;void 0===(i="function"==typeof(r=function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function n(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?a(t):e}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=r(t);if(e){var i=r(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return s(this,n)}}function c(t,e,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}var u=function(){function e(){t(this,e),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return n(e,[{key:"addEventListener",value:function(t,e,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push({callback:e,options:n})}},{key:"removeEventListener",value:function(t,e){if(t in this.listeners)for(var n=this.listeners[t],o=0,r=n.length;o<r;o++)if(n[o].callback===e)return void n.splice(o,1)}},{key:"dispatchEvent",value:function(t){if(t.type in this.listeners){for(var e=this.listeners[t.type].slice(),n=0,o=e.length;n<o;n++){var r=e[n];try{r.callback.call(this,t)}catch(t){Promise.resolve().then((function(){throw t}))}r.options&&r.options.once&&this.removeEventListener(t.type,r.callback)}return!t.defaultPrevented}}}]),e}(),h=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(s,e);var o=l(s);function s(){var e;return t(this,s),(e=o.call(this)).listeners||u.call(a(e)),Object.defineProperty(a(e),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(a(e),"onabort",{value:null,writable:!0,configurable:!0}),e}return n(s,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),c(r(s.prototype),"dispatchEvent",this).call(this,t)}}]),s}(u),f=function(){function e(){t(this,e),Object.defineProperty(this,"signal",{value:new h,writable:!0,configurable:!0})}return n(e,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(e){"undefined"!=typeof document?document.createEvent?(t=document.createEvent("Event")).initEvent("abort",!1,!1):(t=document.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),e}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(f.prototype[Symbol.toStringTag]="AbortController",h.prototype[Symbol.toStringTag]="AbortSignal"),function(t){(function(t){return t.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):"function"==typeof t.Request&&!t.Request.prototype.hasOwnProperty("signal")||!t.AbortController})(t)&&(t.AbortController=f,t.AbortSignal=h)}("undefined"!=typeof self?self:o)})?r.call(e,n,e,t):r)||(t.exports=i)}).call(this,n(1))},function(t,e,n){"use strict";n.r(e),n.d(e,"Auth",(function(){return L}));var o=n(0),r="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==r&&r,i={searchParams:"URLSearchParams"in r,iterable:"Symbol"in r&&"iterator"in Symbol,blob:"FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in r,arrayBuffer:"ArrayBuffer"in r};if(i.arrayBuffer)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=ArrayBuffer.isView||function(t){return t&&a.indexOf(Object.prototype.toString.call(t))>-1};function l(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||""===t)throw new TypeError('Invalid character in header field name: "'+t+'"');return t.toLowerCase()}function c(t){return"string"!=typeof t&&(t=String(t)),t}function u(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return i.iterable&&(e[Symbol.iterator]=function(){return e}),e}function h(t){this.map={},t instanceof h?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function f(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function d(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function g(t){var e=new FileReader,n=d(e);return e.readAsArrayBuffer(t),n}function p(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(t){var e;this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:i.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:i.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:i.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():i.arrayBuffer&&i.blob&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=p(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||s(t))?this._bodyArrayBuffer=p(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i.blob&&(this.blob=function(){var t=f(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var t=f(this);return t||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(g)}),this.text=function(){var t,e,n,o=f(this);if(o)return o;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,n=d(e),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),o=0;o<e.length;o++)n[o]=String.fromCharCode(e[o]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i.formData&&(this.formData=function(){return this.text().then(m)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(t,e){t=l(t),e=c(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},h.prototype.delete=function(t){delete this.map[l(t)]},h.prototype.get=function(t){return t=l(t),this.has(t)?this.map[t]:null},h.prototype.has=function(t){return this.map.hasOwnProperty(l(t))},h.prototype.set=function(t,e){this.map[l(t)]=c(e)},h.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},h.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),u(t)},h.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),u(t)},h.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),u(t)},i.iterable&&(h.prototype[Symbol.iterator]=h.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function A(t,e){if(!(this instanceof A))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,o,r=(e=e||{}).body;if(t instanceof A){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new h(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,r||null==t._bodyInit||(r=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new h(e.headers)),this.method=(n=e.method||this.method||"GET",o=n.toUpperCase(),y.indexOf(o)>-1?o:n),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(r),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==e.cache&&"no-cache"!==e.cache)){var i=/([?&])_=[^&]*/;if(i.test(this.url))this.url=this.url.replace(i,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function m(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),o=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(o),decodeURIComponent(r))}})),e}function v(t,e){if(!(this instanceof v))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===e.statusText?"":""+e.statusText,this.headers=new h(e.headers),this.url=e.url||"",this._initBody(t)}A.prototype.clone=function(){return new A(this,{body:this._bodyInit})},b.call(A.prototype),b.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},v.error=function(){var t=new v(null,{status:0,statusText:""});return t.type="error",t};var C=[301,302,303,307,308];v.redirect=function(t,e){if(-1===C.indexOf(e))throw new RangeError("Invalid status code");return new v(null,{status:e,headers:{location:t}})};var I=r.DOMException;try{new I}catch(t){(I=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack}).prototype=Object.create(Error.prototype),I.prototype.constructor=I}function w(t,e){return new Promise((function(n,o){var a=new A(t,e);if(a.signal&&a.signal.aborted)return o(new I("Aborted","AbortError"));var s=new XMLHttpRequest;function l(){s.abort()}s.onload=function(){var t,e,o={status:s.status,statusText:s.statusText,headers:(t=s.getAllResponseHeaders()||"",e=new h,t.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(t){return 0===t.indexOf("\n")?t.substr(1,t.length):t})).forEach((function(t){var n=t.split(":"),o=n.shift().trim();if(o){var r=n.join(":").trim();e.append(o,r)}})),e)};o.url="responseURL"in s?s.responseURL:o.headers.get("X-Request-URL");var r="response"in s?s.response:s.responseText;setTimeout((function(){n(new v(r,o))}),0)},s.onerror=function(){setTimeout((function(){o(new TypeError("Network request failed"))}),0)},s.ontimeout=function(){setTimeout((function(){o(new TypeError("Network request failed"))}),0)},s.onabort=function(){setTimeout((function(){o(new I("Aborted","AbortError"))}),0)},s.open(a.method,function(t){try{return""===t&&r.location.href?r.location.href:t}catch(e){return t}}(a.url),!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&(i.blob?s.responseType="blob":i.arrayBuffer&&a.headers.get("Content-Type")&&-1!==a.headers.get("Content-Type").indexOf("application/octet-stream")&&(s.responseType="arraybuffer")),!e||"object"!=typeof e.headers||e.headers instanceof h?a.headers.forEach((function(t,e){s.setRequestHeader(e,t)})):Object.getOwnPropertyNames(e.headers).forEach((function(t){s.setRequestHeader(t,c(e.headers[t]))})),a.signal&&(a.signal.addEventListener("abort",l),s.onreadystatechange=function(){4===s.readyState&&a.signal.removeEventListener("abort",l)}),s.send(void 0===a._bodyInit?null:a._bodyInit)}))}w.polyfill=!0,r.fetch||(r.fetch=w,r.Headers=h,r.Request=A,r.Response=v);n(7);var E="data:text/css;charset=utf-8;base64,Lmluc3RhbG9naW4tdjEuaW5zdGFsb2dpbi1jb250YWluZXIgewoKfQoKLmluc3RhbG9naW4tdjEgLmluc3RhbG9naW4taGVhZGVyLWNvbnRhaW5lciB7CiAgICBkaXNwbGF5OiBmbGV4OwogICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIGZvbnQtZmFtaWx5OiBzYW5zLXNlcmlmOwogICAgZm9udC1zaXplOiAxMHB4OwogICAgbWFyZ2luLWJvdHRvbTogMTBweDsKfQoKLmluc3RhbG9naW4tdjEgLmluc3RhbG9naW4taGVhZGVyLWNvbnRhaW5lciBpbWcuaW5zdGFsb2dpbi1sb2dvIHsKICAgIHdpZHRoOiA3MCU7CiAgICBoZWlnaHQ6IGF1dG87Cn0KCi5pbnN0YWxvZ2luLXYxIC5pbnN0YWxvZ2luLWhlYWRlci1jb250YWluZXIgaW1nLmluc3RhbG9naW4taGVscCB7CiAgICB3aWR0aDogOSU7CiAgICBtYXgtd2lkdGg6IDM1cHg7CiAgICBjdXJzb3I6IHBvaW50ZXI7Cn0KCi5pbnN0YWxvZ2luLXYxIC5pbnN0YWxvZ2luLWltYWdlLWNvbnRhaW5lciB7CiAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOwp9CgouaW5zdGFsb2dpbi12MSAuaW5zdGFsb2dpbi1pbWFnZSB7CiAgICBtYXgtd2lkdGg6IDEwMCU7CiAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOwogICAgYm9yZGVyLXN0eWxlOiBub25lOwp9CgouaW5zdGFsb2dpbi12MSAuaW5zdGFsb2dpbi1zdGF0dXMgewogICAgZm9udC1mYW1pbHk6IHNhbnMtc2VyaWY7CiAgICBmb250LXNpemU6IDEwcHg7CiAgICBjb2xvcjogIzU1NTsKICAgIHRleHQtYWxpZ246IGxlZnQ7CiAgICBtYXJnaW4tdG9wOiAxMHB4Owp9CgouaW5zdGFsb2dpbi12MS1vdmVybGF5IHsKICAgIHBvc2l0aW9uOiBmaXhlZDsKICAgIHRvcDogMDsKICAgIGxlZnQ6IDA7CiAgICB3aWR0aDogMTAwdnc7CiAgICBoZWlnaHQ6IDEwMHZoOwogICAgb3BhY2l0eTogMDsKICAgIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC43KTsKICAgIHRyYW5zaXRpb246IG9wYWNpdHkgMC41czsKICAgIHotaW5kZXg6IDk5OTk5ODsKfQoKLmluc3RhbG9naW4tdjEtb3ZlcmxheS5zaG93IHsKICAgIG9wYWNpdHk6IDE7Cn0KCi5pbnN0YWxvZ2luLXYxLW1vZGFsIHsKICAgIHBvc2l0aW9uOiBmaXhlZDsKICAgIHRvcDogNTAlOwogICAgbGVmdDogNTAlOwogICAgd2lkdGg6IDUwJTsKICAgIG1heC13aWR0aDogNjMwcHg7CiAgICBtaW4td2lkdGg6IDMyMHB4OwogICAgaGVpZ2h0OiA3NXZoOwogICAgei1pbmRleDogOTk5OTk5OwogICAgYmFja2ZhY2UtdmlzaWJpbGl0eTogaGlkZGVuOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpIHRyYW5zbGF0ZVkoLTUwJSk7Cn0KCi5pbnN0YWxvZ2luLXYxLW1vZGFsLWNvbnRlbnQgewogICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsKICAgIHdpZHRoOiAxMDAlOwogICAgaGVpZ2h0OiAxMDAlOwp9CgouaW5zdGFsb2dpbi12MS1tb2RhbC1jb250ZW50IGlmcmFtZSB7CiAgICB3aWR0aDogMTAwJTsKICAgIGhlaWdodDogMTAwJTsKICAgIGJvcmRlcjogMDsKfQoKLmluc3RhbG9naW4tdjEgLmluc3RhbG9naW4tbG9hZGVyIHsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIHRvcDogNTAlOwogICAgbGVmdDogNTAlOwogICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgbWFyZ2luLWxlZnQ6IC0xLjVyZW07CiAgICBtYXJnaW4tdG9wOiAtMS41cmVtOwogICAgd2lkdGg6IDNyZW07CiAgICBoZWlnaHQ6IDNyZW07CiAgICB2ZXJ0aWNhbC1hbGlnbjogdGV4dC1ib3R0b207CiAgICBib3JkZXI6IDAuMjVlbSBzb2xpZCAjOTk5OwogICAgYm9yZGVyLXJpZ2h0LWNvbG9yOiB0cmFuc3BhcmVudDsKICAgIGJvcmRlci1yYWRpdXM6IDUwJTsKICAgIGFuaW1hdGlvbjogaW5zdGFsb2dpbi12MSAuNzVzIGxpbmVhciBpbmZpbml0ZTsKICAgIC13ZWJraXQtYW5pbWF0aW9uOiBpbnN0YWxvZ2luLXYxIC43NXMgbGluZWFyIGluZmluaXRlOwogICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgIC13ZWJraXQtYm94LXNpemluZzogYm9yZGVyLWJveDsKfQoKQGtleWZyYW1lcyBpbnN0YWxvZ2luLXYxIHsKICAgIHRvIHsgdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTsgfQp9CgouaW5zdGFsb2dpbi12MSAuaW5zdGFsb2dpbi1wdWxzZSB7CiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgICB2ZXJ0aWNhbC1hbGlnbjogLTFweDsKICAgIGJhY2tncm91bmQ6ICM5OTk7CiAgICBib3JkZXItcmFkaXVzOiA1MCU7CiAgICBib3gtc2hhZG93OiAwIDAgMCAwIHJnYmEoMTUzLCAxNTMsIDE1MywgMSk7CiAgICBoZWlnaHQ6IDlweDsKICAgIHdpZHRoOiA5cHg7CiAgICB0cmFuc2Zvcm06IHNjYWxlKDEpOwogICAgYW5pbWF0aW9uOiBub25lOwogICAgbWFyZ2luLXJpZ2h0OiA1cHg7Cn0KCi5pbnN0YWxvZ2luLXYxIC5pbnN0YWxvZ2luLWJvb3RpbmcgLmluc3RhbG9naW4tcHVsc2UgewogICAgYmFja2dyb3VuZDogI2JlYmUwMDsKICAgIGJveC1zaGFkb3c6IG5vbmU7CiAgICBhbmltYXRpb246IG5vbmU7Cn0KCi5pbnN0YWxvZ2luLXYxIC5pbnN0YWxvZ2luLWVycm9yIC5pbnN0YWxvZ2luLXB1bHNlIHsKICAgIGJhY2tncm91bmQ6IHJlZDsKICAgIGJveC1zaGFkb3c6IG5vbmU7CiAgICBhbmltYXRpb246IG5vbmU7Cn0KCi5pbnN0YWxvZ2luLXYxIC5pbnN0YWxvZ2luLXJ1bm5pbmcgLmluc3RhbG9naW4tcHVsc2UgewogICAgYmFja2dyb3VuZDogIzAwYTAwMDsKICAgIGJveC1zaGFkb3c6IDAgMCAwIDAgcmdiYSgwLCAxNjAsIDAsIDEpOwogICAgYW5pbWF0aW9uOiBpbnN0YWxvZ2luLXYxLXB1bHNlLXJ1bm5pbmcgMnMgaW5maW5pdGU7Cn0KCkBrZXlmcmFtZXMgaW5zdGFsb2dpbi12MS1wdWxzZS1ydW5uaW5nIHsKICAgIDAlIHsKICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDAuOTUpOwogICAgICAgIGJveC1zaGFkb3c6IDAgMCAwIDAgcmdiYSgwLCAxNjAsIDAsIDAuOCk7CiAgICB9CiAgICA3MCUgewogICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMSk7CiAgICAgICAgYm94LXNoYWRvdzogMCAwIDAgNXB4IHJnYmEoMCwgMTYwLCAwLCAwKTsKICAgIH0KICAgIDEwMCUgewogICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMC45NSk7CiAgICAgICAgYm94LXNoYWRvdzogMCAwIDAgMCByZ2JhKDAsIDE2MCwgMCwgMCk7CiAgICB9Cn0K",O="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAAH0AQMAAADxGE3JAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAADVJREFUGBntwTEBAAAAwiD7p95jDGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAF30AAAHoAg2/AAAAAElFTkSuQmCC";function T(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function B(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?T(Object(n),!0).forEach((function(e){W(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function W(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var j=!1,L=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);if(this.options=B(B({},{id:"instalogin",type:"qr",api:"https://api.instalog.in",key:null,authenticationUrl:null,useAuthHeader:!0,removeLabel:!1}),e),this.initialized=!1,this.rootEl=document.getElementById(this.options.id),this.rootEl){if(this.options.key){if(this.containerEl=null,this.headerContainerEl=null,this.logoEl=null,this.helpEl=null,this.imageContainerEl=null,this.loaderEl=null,this.imageEl=null,this.statusContainerEl=null,this.statusEl=null,this.overlayEl=null,this.modalEl=null,this.abortController=new AbortController,this.challengeUrl=this.options.api+"/v1/entity/challenges",this.isStarting=!1,this.challengePromise=null,this.challenge={id:null,createdAt:null,qrCodeData:null,smartImageData:null},!j){var n=document.createElement("link");n.type="text/css",n.rel="stylesheet",n.href=E,n.title="Instalogin CSS",document.head||(document.head=document.getElementsByTagName("head")[0]),document.head.appendChild(n),j=!0}return this.createDomElements(),this.initialized=!0,this}window.console&&console.error('[INSTALOGIN] Missing required "key" parameter.')}else window.console&&console.error('[INSTALOGIN] Could not find container "%s".'.replace("%s",this.options.container))}var e,n,r;return e=t,(n=[{key:"createDomElements",value:function(){var t=this;this.containerEl=document.createElement("div"),this.containerEl.className="instalogin-v1 instalogin-container",!1===this.options.removeLabel&&(this.headerContainerEl=this.containerEl.appendChild(document.createElement("div")),this.headerContainerEl.className="instalogin-header-container",this.logoEl=this.headerContainerEl.appendChild(document.createElement("img")),this.logoEl.className="instalogin-logo",this.logoEl.alt="Instalogin Logo",this.logoEl.src="data:image/png;base64,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",this.helpEl=this.headerContainerEl.appendChild(document.createElement("img")),this.helpEl.className="instalogin-help",this.helpEl.alt="Instalogin Logo",this.helpEl.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAYFBMVEUAAABDhq5DhqpBg6xAgqxChK1Cg6tBg6w/g60/g6xAg61AhKxAg6xAg6xAg6z////w8vXa5OzM2+a+0+Cmw9aNs8twob9clLdFhq5Ag6w9gas4fqkyeqYsdqQjcaAZapzmLLUJAAAAD3RSTlMAEzlKXHCAjqG5zNvm8PYvYYQqAAABJklEQVR42m2S4bZEMAyEuSyKLhaVapu+/1veLCXFzh+n+c6cjCQJKytEI2Ujyix56tXoU01xgxnBWG0e00I/VDIt9Q9VT+9qrbn7/8ITrLcABh2EQrbhNlC086fvhwkw4Pf2R4E6PXSb+uXgBZuNI/pRy0jc2L0muTMqqjvvPfEZj+5nbKfGUSGAn7tu8md4ceQ2iA4ADfVQh7tOommueqcjrsfwKRkLUPeUz7pz9Bds7OZ1wLiJMM5EPVHGIsJ+6rrFM9V1vK0Vp34Ac9lapiOZBSxoVp7E2ZwaRrD8fqe0kih4TwP114vh7KubaF2OcfrFIrIrcBB3Jkme2oqWacW39EMi3P8DsHdvLbJcXuH7FWgqyvT7KWUEqXRXmld1K2VbVznDf5p9QegABVWxAAAAAElFTkSuQmCC",this.helpEl.addEventListener("click",(function(){t.showHelp()}))),this.imageContainerEl=this.containerEl.appendChild(document.createElement("div")),this.imageContainerEl.className="instalogin-image-container",this.loaderEl=this.imageContainerEl.appendChild(document.createElement("div")),this.loaderEl.className="instalogin-loader",this.loaderEl.style.display="none",this.imageEl=this.imageContainerEl.appendChild(document.createElement("img")),this.imageEl.className="instalogin-image",this.imageEl.title="Instalogin - #NoMorePasswords",this.imageEl.alt="No More Passwords",this.imageEl.src=O,!1===this.options.removeLabel&&(this.statusContainerEl=this.containerEl.appendChild(document.createElement("div")),this.statusContainerEl.className="instalogin-status",this.statusContainerEl.innerHTML='<div class="instalogin-pulse"></div>',this.statusEl=this.statusContainerEl.appendChild(document.createElement("span"))),this.rootEl.appendChild(this.containerEl)}},{key:"start",value:function(){var t=this;if(this.initialized){if(!this.isStarting)return this.isStarting=!0,this.abortController.abort(),this.abortController=new AbortController,this.challenge.id||(this.setStatus(2),this.showProgress(!0)),this.getChallenge().then((function(){t.imageEl.src="si"===t.options.type.toLowerCase()?t.challenge.smartImageData:t.challenge.qrCodeData,t.setStatus(3),t.checkChallenge().catch((function(){}))})).catch((function(){t.setStatus(4)})).finally((function(){t.isStarting=!1,t.showProgress(!1),t.challengePromise=null})),this}else window.console&&console.error("[INSTALOGIN] Cannot initiate service.")}},{key:"stop",value:function(){return this.isStarting=!1,this.abortController.abort(),this.imageEl.src=O,this.setStatus(1),this}},{key:"getChallenge",value:function(){var t=this;return this.challengePromise?this.challengePromise:this.challengePromise=new o.a((function(e,n){var o={method:"POST",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({key:t.options.key||""})};w(t.challengeUrl,o).then((function(o){if(!o.ok)throw Error(o.status);o.json().then((function(o){return o.id?(t.challenge.id=o.id,t.challenge.createdAt=Date.now(),t.challenge.qrCodeData=o.qrCodeData,t.challenge.smartImageData=o.smartImageData,e()):(window.console&&console.error("[INSTALOGIN] Could not create challenge: invalid response"),n())}))})).catch((function(t){return window.console&&console.error("[INSTALOGIN] Could not create challenge: "+t),n()}))}))}},{key:"checkChallenge",value:function(){var t=this;return w(this.challengeUrl+"/"+this.challenge.id,{signal:this.abortController.signal,credentials:"same-origin",headers:{Accept:"application/json"}}).then((function(e){if(!e.ok)throw Error(e.statusText);return 204===e.status?t.checkChallenge().catch((function(){})):200===e.status&&e.json().then((function(e){t.attemptAuthentication(e.token)})).catch((function(t){throw Error(t)})),o.a.resolve(e)})).catch((function(e){return"AbortError"===e.name?(t.imageEl.src=O,t.setStatus(1)):(t.imageEl.src=O,t.setStatus(4),window.console&&console.error("[INSTALOGIN] Could not check challenge: "+e)),o.a.reject(e)}))}},{key:"attemptAuthentication",value:function(t){var e=this;if(this.imageEl.src=O,this.options.authenticationUrl){this.setStatus(3),this.showProgress(!0);var n={method:"GET",redirect:"follow",mode:"same-origin",credentials:"same-origin",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}};this.options.useAuthHeader?n.headers.Authorization="Bearer "+t:n.headers["X-Instalogin-Auth"]=t,w(this.options.authenticationUrl,n).then((function(t){if(!t.ok)throw Error(t.statusText);t.text().then((function(n){try{var o=JSON.parse(n);o.hasOwnProperty("location")?o.location&&window.location.replace(o.location):(e.setStatus(4),window.console&&console.error('[INSTALOGIN] Missing "location" key in response.'))}catch(e){t.url&&window.location.replace(t.url)}})).catch((function(t){e.setStatus(4),window.console&&console.error("[INSTALOGIN] Could not decode response: "+t)}))})).catch((function(t){e.setStatus(4),window.console&&console.error("[INSTALOGIN] Could not authenticate: "+t)})).finally((function(){e.showProgress(!1)}))}else this.setStatus(1)}},{key:"showHelp",value:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];null===this.overlayEl&&(this.overlayEl=document.createElement("div"),this.overlayEl.className="instalogin-v1-overlay",this.overlayEl.addEventListener("click",(function(){t.showHelp(!1)})),this.modalEl=document.createElement("div"),this.modalEl.className="instalogin-v1-modal",this.modalEl.innerHTML="<div class='instalogin-v1-modal-content' tabindex='-1'><iframe src='https://cdn.instalog.in/content/instalogin-help.html'></iframe></div>"),e?(document.body.appendChild(this.modalEl),document.body.appendChild(this.overlayEl),this.overlayEl.offsetWidth,this.overlayEl.classList.add("show")):(document.body.removeChild(this.modalEl),this.overlayEl.classList.remove("show"),setTimeout((function(){document.body.removeChild(t.overlayEl)}),500))}},{key:"showProgress",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.loaderEl.style.display=!1===t?"none":"block"}},{key:"setStatus",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(!this.options.removeLabel)switch(t){case 2:this.statusContainerEl.className="instalogin-status instalogin-booting",this.statusEl.innerHTML="Booting ...";break;case 3:this.statusContainerEl.className="instalogin-status instalogin-running",this.statusEl.innerHTML="Waiting for Authentication ...";break;case 4:this.statusContainerEl.className="instalogin-status instalogin-error",this.statusEl.innerHTML="Error! Please check console logs.";break;default:this.statusContainerEl.className="instalogin-status",this.statusEl.innerHTML="Service not running."}}},{key:"resetChallenge",value:function(){this.challenge={id:null,createdAt:null,qrCodeData:null,smartImageData:null}}}])&&G(e.prototype,n),r&&G(e,r),t}()}]);
//# sourceMappingURL=instalogin-0.7.2.js.map